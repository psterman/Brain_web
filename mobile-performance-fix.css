/* 移动端性能优化和页面居中修复 */

/* 主体页面居中加载优化 */
.mobile-app {
    width: 100vw !important;
    height: 100vh !important;
    max-width: 414px !important;
    margin: 0 auto !important;
    position: relative !important;
    display: flex !important;
    flex-direction: column !important;
    justify-content: center !important;
    align-items: center !important;
    box-shadow: 0 0 20px rgba(0, 0, 0, 0.2) !important;
    /* 硬件加速 */
    transform: translateZ(0) !important;
    will-change: transform !important;
    backface-visibility: hidden !important;
}

/* 确保页面在视口中完美居中 */
body {
    display: flex !important;
    justify-content: center !important;
    align-items: center !important;
    min-height: 100vh !important;
    margin: 0 !important;
    padding: 0 !important;
    background: #f0f0f0 !important;
    /* 防止页面滚动 */
    overflow: hidden !important;
}

/* 页面切换性能优化 */
.page {
    /* 使用GPU加速 */
    transform: translateX(100%) translateZ(0) !important;
    will-change: transform, opacity !important;
    backface-visibility: hidden !important;
    /* 快速切换动画 */
    transition: all 0.15s cubic-bezier(0.25, 0.46, 0.45, 0.94) !important;
}

.page.active {
    transform: translateX(0) translateZ(0) !important;
    /* 快速显示动画 */
    animation: fastSlideIn 0.15s cubic-bezier(0.25, 0.46, 0.45, 0.94) !important;
}

.page.slide-out {
    /* 快速隐藏动画 */
    animation: fastSlideOut 0.15s cubic-bezier(0.25, 0.46, 0.45, 0.94) !important;
}

/* 超快速动画关键帧 */
@keyframes fastSlideIn {
    0% {
        transform: translateX(100%) translateZ(0);
        opacity: 0;
    }
    100% {
        transform: translateX(0) translateZ(0);
        opacity: 1;
    }
}

@keyframes fastSlideOut {
    0% {
        transform: translateX(0) translateZ(0);
        opacity: 1;
    }
    100% {
        transform: translateX(-100%) translateZ(0);
        opacity: 0;
    }
}

/* 底部导航切换优化 */
.nav-item {
    transition: all 0.1s ease !important;
}

.nav-item:active {
    transform: scale(0.95) !important;
    transition: transform 0.05s ease !important;
}

/* AI模型切换优化 */
.ai-tab {
    transition: all 0.1s ease !important;
}

.ai-tab:active {
    transform: scale(0.95) !important;
}

/* 按钮点击反馈优化 */
button, .btn, .tool-btn, .nav-btn, .action-btn {
    transition: transform 0.1s ease !important;
}

button:active, .btn:active, .tool-btn:active, .nav-btn:active, .action-btn:active {
    transform: scale(0.95) !important;
}

/* 状态栏右侧元素隐藏 */
.signal-dots, .wifi-icon, .battery {
    display: none !important;
}

/* 主题切换按钮优化 */
.theme-toggle {
    transition: all 0.1s ease !important;
}

.theme-toggle:active {
    transform: scale(0.9) !important;
}

/* 页面内容加载优化 */
.app-content {
    /* 硬件加速 */
    transform: translateZ(0) !important;
    will-change: transform !important;
    backface-visibility: hidden !important;
}

/* 聊天消息动画优化 */
.message {
    animation: messageAppear 0.2s ease-out !important;
}

@keyframes messageAppear {
    0% {
        opacity: 0;
        transform: translateY(10px) translateZ(0);
    }
    100% {
        opacity: 1;
        transform: translateY(0) translateZ(0);
    }
}

/* 应用图标点击优化 */
.app-item {
    transition: transform 0.1s ease !important;
}

.app-item:active {
    transform: scale(0.9) translateZ(0) !important;
}

/* 搜索引擎选择优化 */
.engine-item {
    transition: all 0.1s ease !important;
}

.engine-item:active {
    transform: scale(0.95) translateZ(0) !important;
}

/* 设置项点击优化 */
.setting-item {
    transition: transform 0.1s ease !important;
}

.setting-item:active {
    transform: scale(0.98) translateZ(0) !important;
}

/* 滚动性能优化 */
.chat-messages, .apps-content, .search-config, .settings-content {
    /* 启用硬件加速滚动 */
    -webkit-overflow-scrolling: touch !important;
    transform: translateZ(0) !important;
    will-change: scroll-position !important;
}

/* 防止页面抖动 */
* {
    -webkit-font-smoothing: antialiased !important;
    -moz-osx-font-smoothing: grayscale !important;
}

/* 触摸反馈优化 */
.nav-item, .ai-tab, .app-item, .engine-item, .setting-item, 
button, .btn, .tool-btn, .nav-btn, .action-btn {
    -webkit-tap-highlight-color: transparent !important;
    user-select: none !important;
    -webkit-user-select: none !important;
}

/* PC端查看时的完美居中 */
@media (min-width: 768px) {
    body {
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%) !important;
        display: flex !important;
        align-items: center !important;
        justify-content: center !important;
        min-height: 100vh !important;
        margin: 0 !important;
        padding: 20px !important;
    }
    
    .mobile-app {
        position: relative !important;
        box-shadow: 0 20px 60px rgba(0, 0, 0, 0.4) !important;
        border-radius: 25px !important;
        overflow: hidden !important;
        border: 1px solid rgba(255, 255, 255, 0.1) !important;
    }
}

/* 移动端完美适配 */
@media (max-width: 414px) {
    .mobile-app {
        max-width: 100vw !important;
        border-radius: 0 !important;
        box-shadow: none !important;
    }
    
    body {
        padding: 0 !important;
        background: #f0f0f0 !important;
    }
}

/* 超小屏幕优化 */
@media (max-width: 375px) {
    .mobile-app {
        max-width: 100vw !important;
    }
}

/* 高分辨率屏幕优化 */
@media (-webkit-min-device-pixel-ratio: 2), (min-resolution: 192dpi) {
    .mobile-app {
        /* 高清屏幕下的优化 */
        -webkit-font-smoothing: antialiased !important;
        -moz-osx-font-smoothing: grayscale !important;
    }
}

/* 横屏模式优化 */
@media (orientation: landscape) and (max-height: 500px) {
    .mobile-app {
        max-width: 100vw !important;
        height: 100vh !important;
    }
    
    body {
        padding: 0 !important;
    }
}