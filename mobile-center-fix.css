/* 移动端页面居中修复 - 完全重写 */

/* 移动端主容器居中 */
.mobile-app {
    width: 100vw !important;
    height: 100vh !important;
    max-width: 414px !important;
    margin: 0 auto !important;
    position: relative !important;
    box-shadow: 0 0 20px rgba(0, 0, 0, 0.2) !important;
}

/* 页面容器基础样式重置 */
.page {
    width: 100% !important;
    height: 100% !important;
    padding: 0 !important;
    margin: 0 !important;
    box-sizing: border-box !important;
    display: flex !important;
    flex-direction: column !important;
    align-items: stretch !important;
    justify-content: flex-start !important;
    overflow-y: auto !important;
    -webkit-overflow-scrolling: touch !important;
}

/* AI页面布局优化 */
#ai-page {
    padding: 0 !important;
    gap: 0 !important;
}

#ai-page .ai-selector {
    width: 100% !important;
    margin: 0 !important;
    padding: 15px 20px !important;
    flex-shrink: 0 !important;
}

#ai-page .chat-container {
    width: 100% !important;
    margin: 0 !important;
    padding: 0 20px !important;
    flex: 1 !important;
    min-height: 0 !important;
}

#ai-page .chat-input-container {
    width: 100% !important;
    margin: 0 !important;
    padding: 15px 20px !important;
    flex-shrink: 0 !important;
}

/* 浏览器页面布局优化 */
#browser-page {
    padding: 0 !important;
}

#browser-page .browser-header {
    width: 100% !important;
    margin: 0 !important;
    flex-shrink: 0 !important;
}

#browser-page .browser-content {
    width: 100% !important;
    margin: 0 !important;
    flex: 1 !important;
    min-height: 0 !important;
}

/* 搜索页面布局优化 */
#search-page {
    padding: 0 !important;
    gap: 0 !important;
}

#search-page .search-header {
    width: 100% !important;
    margin: 0 !important;
    flex-shrink: 0 !important;
}

#search-page .search-config {
    width: 100% !important;
    margin: 0 !important;
    flex: 1 !important;
    overflow-y: auto !important;
}

/* 应用页面布局优化 */
#apps-page {
    padding: 0 !important;
    gap: 0 !important;
}

#apps-page .apps-header {
    width: 100% !important;
    margin: 0 !important;
    flex-shrink: 0 !important;
}

#apps-page .apps-layout {
    width: 100% !important;
    margin: 0 !important;
    flex: 1 !important;
    min-height: 0 !important;
}

/* 设置页面布局优化 */
#settings-page {
    padding: 0 !important;
    gap: 0 !important;
}

#settings-page .settings-header {
    width: 100% !important;
    margin: 0 !important;
    flex-shrink: 0 !important;
}

#settings-page .settings-content {
    width: 100% !important;
    margin: 0 !important;
    flex: 1 !important;
    overflow-y: auto !important;
}

/* 聊天消息区域优化 */
.chat-messages {
    width: 100% !important;
    padding: 20px 0 !important;
    margin: 0 !important;
    flex: 1 !important;
    overflow-y: auto !important;
    -webkit-overflow-scrolling: touch !important;
}

/* 消息样式优化 */
.message {
    width: 100% !important;
    max-width: 100% !important;
    margin-bottom: 15px !important;
    padding: 0 !important;
}

.message.user-message {
    align-self: flex-end !important;
}

.message.ai-message {
    align-self: flex-start !important;
}

/* 输入区域优化 */
.input-wrapper {
    width: 100% !important;
    margin: 0 !important;
}

.message-input {
    width: 100% !important;
    flex: 1 !important;
}

/* 应用网格布局优化 */
.apps-grid {
    width: 100% !important;
    margin: 0 !important;
    padding: 0 !important;
}

.app-item {
    width: 100% !important;
    margin: 0 !important;
}

/* 搜索引擎网格优化 */
.engine-grid {
    width: 100% !important;
    margin: 0 !important;
    padding: 0 !important;
}

.engine-item {
    width: 100% !important;
    margin: 0 !important;
}

/* 设置项目优化 */
.setting-item {
    width: 100% !important;
    margin: 0 0 12px 0 !important;
}

/* 底部导航固定 */
.bottom-nav {
    width: 100% !important;
    position: fixed !important;
    bottom: 0 !important;
    left: 50% !important;
    transform: translateX(-50%) !important;
    max-width: 414px !important;
    z-index: 1000 !important;
}

/* 状态栏固定 */
.status-bar {
    width: 100% !important;
    position: fixed !important;
    top: 0 !important;
    left: 50% !important;
    transform: translateX(-50%) !important;
    max-width: 414px !important;
    z-index: 1000 !important;
}

/* 主内容区域调整 */
.app-content {
    width: 100% !important;
    margin-top: 44px !important; /* 状态栏高度 */
    margin-bottom: 80px !important; /* 底部导航高度 */
    height: calc(100vh - 124px) !important; /* 总高度减去状态栏和底部导航 */
    overflow: hidden !important;
}

/* 底部指示器调整 */
.home-indicator {
    position: fixed !important;
    bottom: 8px !important;
    left: 50% !important;
    transform: translateX(-50%) !important;
    z-index: 1001 !important;
}

/* 响应式调整 */
@media (max-width: 414px) {
    .mobile-app {
        max-width: 100vw !important;
    }
    
    .status-bar,
    .bottom-nav {
        max-width: 100vw !important;
    }
}

/* PC端查看时的居中效果 */
@media (min-width: 768px) {
    body {
        background: #f0f0f0 !important;
        display: flex !important;
        align-items: center !important;
        justify-content: center !important;
        min-height: 100vh !important;
        margin: 0 !important;
        padding: 20px !important;
    }
    
    .mobile-app {
        position: relative !important;
        box-shadow: 0 10px 40px rgba(0, 0, 0, 0.3) !important;
        border-radius: 20px !important;
        overflow: hidden !important;
    }
}

/* 修复可能的布局问题 */
* {
    box-sizing: border-box !important;
}

.page * {
    max-width: 100% !important;
}

/* 确保所有内容都在可视区域内 */
.page > * {
    width: 100% !important;
    flex-shrink: 0 !important;
}

/* 滚动区域优化 */
.page {
    scroll-behavior: smooth !important;
}

/* 防止内容溢出 */
.chat-container,
.apps-content,
.search-config,
.settings-content {
    overflow-x: hidden !important;
    overflow-y: auto !important;
}