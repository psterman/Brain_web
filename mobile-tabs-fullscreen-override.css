/* 移动端 Tabs 全屏覆盖（AI、浏览、设置） */
/* 目标：去除窄幅 max-width 限制，使用 100dvh 全屏布局，内容区滚动，自适应宽度 */

/* 通用页面容器覆盖 */
.page {
  display: flex !important;
  flex-direction: column !important;
  align-items: stretch !important; /* 不强制居中 */
  justify-content: flex-start !important;
  padding: 0 !important;
  gap: 0 !important;
}

/* 避免历史样式中的 400px 限制 */
#ai-page .chat-container,
#ai-page .chat-input-container,
#browser-page .browser-header,
#browser-page .browser-content,
#browser-page .browser-address-bar,
#settings-page .settings-header,
#settings-page .settings-content,
#settings-page .settings-section {
  width: 100% !important;
  max-width: none !important;
  box-sizing: border-box !important;
}

/* AI 页面全屏布局 */
#ai-page {
  height: 100dvh !important;
  min-height: 100vh !important;
  overflow: hidden !important;
}

#ai-page .ai-selector {
  flex-shrink: 0 !important;
  position: sticky !important;
  top: 0 !important;
  z-index: 10 !important;
  width: 100% !important;
  padding: 12px 16px !important;
  backdrop-filter: blur(10px) !important;
  -webkit-backdrop-filter: blur(10px) !important;
}

#ai-page .chat-container {
  flex: 1 !important;
  display: flex !important;
  flex-direction: column !important;
  min-height: 0 !important; /* 允许子元素正确滚动 */
  overflow: hidden !important;
}

#ai-page .chat-messages {
  flex: 1 !important;
  overflow-y: auto !important;
  -webkit-overflow-scrolling: touch !important;
  padding: 12px !important;
}

#ai-page .chat-input-container {
  flex-shrink: 0 !important;
  position: sticky !important;
  bottom: 0 !important;
  padding: 10px 12px calc(10px + env(safe-area-inset-bottom)) !important;
  background: var(--bg-secondary, #fff) !important;
  border-top: 1px solid var(--border-color, #e9ecef) !important;
}

/* 浏览器页面全屏布局 */
#browser-page {
  height: 100dvh !important;
  min-height: 100vh !important;
  overflow: hidden !important;
}

#browser-page .browser-header,
#browser-page .browser-address-bar {
  flex-shrink: 0 !important;
  width: 100% !important;
  padding: 12px 16px !important;
  border-bottom: 1px solid var(--ios-separator, #e9ecef) !important;
  backdrop-filter: blur(12px) !important;
  -webkit-backdrop-filter: blur(12px) !important;
}

#browser-page .browser-toolbar {
  flex-shrink: 0 !important;
  width: 100% !important;
  padding: 8px 12px !important;
  overflow-x: auto !important;
  gap: 8px !important;
}

#browser-page .browser-content,
#browser-page .browser-main {
  flex: 1 !important;
  min-height: 0 !important;
  overflow: hidden !important;
}

#browser-page iframe,
#browser-page .ai-browser-frame,
#browser-page .webview {
  width: 100% !important;
  height: 100% !important;
  border: none !important;
  background: #fff !important;
}

/* 设置页面全屏布局 */
#settings-page {
  height: 100dvh !important;
  min-height: 100vh !important;
  overflow: hidden !important;
}

#settings-page .settings-header {
  flex-shrink: 0 !important;
  padding: 12px 16px !important;
  border-bottom: 1px solid var(--border-color, #e9ecef) !important;
}

#settings-page .settings-content {
  flex: 1 !important;
  overflow-y: auto !important;
  -webkit-overflow-scrolling: touch !important;
  padding: 12px 16px calc(12px + env(safe-area-inset-bottom)) !important;
}

#settings-page .settings-section {
  margin: 0 0 16px 0 !important;
  padding: 12px !important;
}

/* 响应式微调：加宽时适配 4 列网格（供搜索/应用等复用） */
@media (min-width: 430px) {
  .app-grid,
  .ai-grid,
  .search-engines-grid {
    grid-template-columns: repeat(4, minmax(0, 1fr)) !important;
    gap: 12px !important;
  }
}